/***********************************************
leaflet-bootstrap-marker.scss
Style for bsMarker estimated to look like Google Maps

The pulsate is a djusted version of leaflet-icon-pulse by Filip Zavadil
https://github.com/mapshakers/leaflet-icon-pulse


lbm-icon lbm-COLOR [lbm-border-COLOR] [lbm-transparent] [lbm-puls] [lbm-hover]


lbm-icon          : Standard icon with black border and tin white shadow
lbm-[COLOR]       : Sets inner color to [COLOR]
lbm-border-[COLOR]: border-color = [COLOR]

lbm-shadow        : Shadow in same color as inner color
lbm-puls          : Has a pulsing ring
lbm-transparent   : Inner color get opacity: 0.7
lbm-hover         : When hover: get shadow and opacity: 0.9 for ibm-transparent
************************************************/

//BOURBON - http://bourbon.io/
@import "../bower_components/bourbon/core/bourbon";

//MODERNIZR-MIXIN - https://github.com/danielguillan/modernizr-mixin
@import "../bower_components/modernizr-mixin/stylesheets/modernizr";

//MATHSASS - https://github.com/terkel/mathsass
@import "../bower_components/mathsass/dist/math";


//BOOTSTRAP
@import "../bower_components/bootstrap/scss/functions";
@import "../bower_components/bootstrap/scss/variables";

//COLOR-HELPER - https://github.com/voxpelli/sass-color-helpers
@import "../bower_components/sass-color-helpers/stylesheets/color-helpers";

//Style for bsMarker
@import "leaflet-bootstrap-marker-mixin";


$markerSizeList: 14px, 20px, 24px; //MUST match markerSizeList in leaflet-bootstrap-marker.js AND _leaflet-bootstrap-tooltip.scss

$border-width      : 2px;
$thick-border-width: 3px;

@keyframes pulsate {
    0% {
        transform: scale(0.1, 0.1);
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        transform: scale(1.2, 1.2);
        opacity: 0;
    }
}

.lbm-icon {
    opacity      : 1;
    border       : $border-width solid black;
    box-shadow  : 0px 0px 0px 1px rgba(white, .5); //.5 = estimate to look like google maps

    &.lbm-thick-border {
        border: $thick-border-width solid black;
    }

    &.lbm-round {
        border-radius: 100%;
        &:before { border-radius: 100%; }
    }

    @include marker-color();
    @include marker-border-color();

    //Text
    text-align: center;
    .inner-text {
        font-family   : $font-family-monospace;
        letter-spacing: 0px;
        font-weight   : bold;
        overflow      : visible;
        white-space   : nowrap;
        width         : calc(100% + 2*#{$border-width});
        margin-left   : -1 * $border-width;
        overflow      : hidden;
    }

    //The puls
    &:before {
        display : none;
        position: absolute;
        content : "";
        height  : 300%;
        width   : 300%;
        margin  : -100% 0 0 -100%;
    }

    &.lbm-puls:before {
        display  : block;
        animation: pulsate 1s ease-out;
        animation-iteration-count: infinite;
    }
}

//Create different size
@each $size in $markerSizeList {
    $index: index($markerSizeList, $size) - 1;

    $innerHeight: $size - 2 * $border-width;
    $font-size  : floor($innerHeight / 1.41) - 1px;

    .lbm-icon-#{$index} {
        font-size: $font-size;
        line-height: $innerHeight / $font-size;
    }
}

/*
*/
//Create standard and bootstrap colors
@each $name, $color in (
    "pink"      : pink,
    "purple"    : purple,
    "red"       : red,
    "orange"    : orange,
    "yellow"    : yellow,
    "green"     : green,
    "cyan"      : cyan,
    "blue"      : blue,
    "brown"     : brown,
    "white"     : white,
    "grey"      : grey,
    "black"     : black,
    "indigo"    : indigo,
    "teal"      : teal,
    "darkgray"  : darkgray,
    "primary"   : $primary,
    "secondary" : $secondary,
    "success"   : $success,
    "info"      : $info,
    "warning"   : $warning,
    "danger"    : $danger,
    "light"     : $light,
    "dark"      : $dark,
    "standard"  : #4285F4 //= rgba(66, 133, 244) = google maps color for location icon

){
    @include lbm-marker-and-icon-classes( $name, $color, $color );
}

/*
//fa-pulsate - fontawesome class for pulsate icons
.fa-pulsate {

    animation: pulsate 1s ease-out;
    animation-iteration-count: infinite;
    animation-delay: 1.1s;
}

*/
